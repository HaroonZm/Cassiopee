Voici un énoncé de problème :

JPEG Compression
The fundamental idea in the JPEG compression algorithm is to sort coeffi-
cient of given image by zigzag path and encode it. In this problem, we don’t
discuss about details of the algorithm, but you are asked to make simple pro-
gram. You are given single integer N , and you must output zigzag path on
a matrix where size is N by N . The zigzag scanning is start at the upper-left
corner (0, 0) and end up at the bottom-right corner. See the following Figure
and sample output to make sure rule of the zigzag scanning. For example, if you
are given N = 8, corresponding output should be a matrix shown in right-side
of the Figure. This matrix consists of visited time for each element.
Input
Several test cases are given. Each test case consists of one integer N (0 < N <
10) in a line. The input will end at a line contains single zero.
Output
For each input, you must output a matrix where each element is the visited
time. All numbers in the matrix must be right justified in a field of width 3.
Each matrix should be prefixed by a header “Case x:” where x equals test case
number.
Sample Input
3
4
0
Output for the Sample Input
Case 1:
1 2 6
3 5 7
4 8 9
Case 2:
1 2 6 7
3 5 8 13
4 9 12 14
10 11 15 16


En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
#while 1:
    #n=map(int,raw_input().split())

otehon = [[1,2,6,7,15,16,28,29,45],
          [3,5,8,14,17,27,30,44],
          [4,9,13,18,26,31,43],
          [10,12,19,25,32,42],
          [11,20,24,33,41],
          [21,23,34,40],
          [22,35,39],
          [36,38],
          [37]]

def xyz(num):
    num = str(num)
    if(len(num)==1):
        return "  "+num
    return " "+num

n = 0
while 1:
    N = int(raw_input())
    if(N==0):break
    n +=1
    hairetu = [[0 for i in range(N)] for j in range(N)]
    for i in range(N):
        for j in range(N):
            if(i+j<N):hairetu[i][j]=otehon[i][j]
    #
    for i in range(N):
        for j in range(N):
            if(i+j>=N):hairetu[i][j]=N*N +1 - hairetu[N-1-i][N-1-j]
    #
    print "Case "+str(n)+":"
    for i in range(N):
            strn = ""
            for j in range(N):
                strn += xyz(hairetu[i][j])
            print strn
```