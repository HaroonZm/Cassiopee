En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
def nextX(x,a,b,c):
        return (a*x+b)%c
        
while 1:
    n,a,b,c,x=map(int,input().split())
    if n==0:
        break
    data=list(map(int,input().split()))
    for i in range(0,10001):
        if data[0]==x:
            del data[0]
        if(len(data)==0):
            print(i)
            break
        x=nextX(x,a,b,c)
    else:
        print(-1)
```