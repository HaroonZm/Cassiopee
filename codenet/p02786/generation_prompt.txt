En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
def fun(n):
  if n==1:
    return 1
  else:
    return 1+2*fun(n//2)
n = int(input())
print(fun(n))
```