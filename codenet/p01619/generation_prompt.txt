En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
mod=1000000
n,m=map(int,input().split())
dp=[[0]*5 for _ in range(n)]
dp[0]=[1,1,1,1,0]
if m==1:print((1<<n)%mod)
else:
    for i in range(1,n):
        dp[i][0]=(sum(dp[i-1])-dp[i-1][3])%mod
        dp[i][1]=sum(dp[i-1][:3])%mod
        dp[i][2]=sum(dp[i-1][:4])%mod
        dp[i][3]=sum(dp[i-1][:4:3])%mod
        dp[i][4]=sum(dp[i-1][2::2])%mod
    print(sum(dp[n-1][:4])%mod)
```