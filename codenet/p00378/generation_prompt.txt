Voici un énoncé de problème :

Heat Stroke
We have had record hot temperatures this summer. To avoid heat stroke, you decided to buy a quantity of drinking water at the nearby supermarket. Two types of bottled water, 1 and 0.5 liter, are on sale at respective prices there. You have a definite quantity in your mind, but are willing to buy a quantity larger than that if: no combination of these bottles meets the quantity, or, the total price becomes lower.
Given the prices for each bottle of water and the total quantity needed, make a program to seek the lowest price to buy greater than or equal to the quantity required.
Input
The input is given in the following format.
$A$ $B$ $X$
The first line provides the prices for a 1-liter bottle $A$ ($1\leq A \leq 1000$), 500-milliliter bottle $B$ ($1 \leq B \leq 1000$), and the total water quantity needed $X$ ($1 \leq X \leq 20000$). All these values are given as integers, and the quantity of water in milliliters.
Output
Output the total price.
Sample Input 1
180 100 2400
Sample Output 1
460
Sample Input 2
200 90 2018
Sample Output 2
450


En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
a, b, x = map(int, input().split())

if a // 2 < b:
    num_a = x // 1000
    if x % 1000 == 0:
        print(a * num_a)
    elif a < b:
        print(a * (num_a + 1))
    elif x % 1000 > 500:
        print(a * (num_a + 1))
    else:
        print(a * num_a + b)
else:
    num_b = x // 500
    if x % 500 == 0:
        print(b * num_b)
    else:
        print(b * (num_b + 1))
```