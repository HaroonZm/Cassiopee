En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
n = int(input())
a = [int(num) for num in input().split()]
ans = 0.0
a.sort()
for i in range(n - 2):
    ans = max(ans, (a[n - 1] + a[n - 2]) / (a[i + 1] - a[i] + 0.0))
ans = max(ans, (a[n - 1] + a[n - 4]) / (a[n - 2] - a[n - 3] + 0.0))
ans = max(ans, (a[n - 3] + a[n - 4]) / (a[n - 1] - a[n - 2] + 0.0))
print('%.8f' % (ans))
```