Voici un énoncé de problème :

Chain-Confined Path
There is a chain consisting of multiple circles on a plane.
The first (last) circle of the chain only intersects with the next (previous) circle,
and each intermediate circle intersects only with the two neighboring circles.
Your task is to find the shortest path that satisfies the following conditions.
The path connects the centers of the first circle and the last circle.
The path is confined in the chain, that is, all the points on the path are located within or on at least one of the circles.
Figure E-1 shows an example of such a chain and the corresponding shortest path.
Figure E-1: An example chain and the corresponding shortest path
Input
The input consists of multiple datasets.
Each dataset represents the shape of a chain in the following format.
n
x
1
y
1
r
1
x
2
y
2
r
2
...
x
n
y
n
r
n
The first line of a dataset contains an integer
n
(3 ≤
n
≤ 100)
representing the number of the circles.
Each of the following
n
lines contains three integers separated by a single space.
(
x
i
,
y
i
)
and
r
i
represent
the center position and the radius of the
i
-th circle
C
i
.
You can assume that 0 ≤
x
i
≤ 1000,
0 ≤
y
i
≤ 1000, and
1 ≤
r
i
≤ 25.
You can assume that
C
i
and
C
i
+1
(1 ≤
i
≤
n
−1) intersect at two separate points.
When
j
≥
i
+2,
C
i
and
C
j
are apart and either of them does not contain the other.
In addition, you can assume that any circle does not contain the center of any other circle.
The end of the input is indicated by a line containing a zero.
Figure E-1 corresponds to the first dataset of Sample Input below.
Figure E-2 shows the shortest paths for the subsequent datasets of Sample Input.
Figure E-2: Example chains and the corresponding shortest paths
Output
For each dataset, output a single line containing the length of the shortest chain-confined path between the centers of the first circle and the last circle.
The value should not have an error greater than 0.001.
No extra characters should appear in the output.
Sample Input
10
802 0 10
814 0 4
820 1 4
826 1 4
832 3 5
838 5 5
845 7 3
849 10 3
853 14 4
857 18 3
3
0 0 5
8 0 5
8 8 5
3
0 0 5
7 3 6
16 0 5
9
0 3 5
8 0 8
19 2 8
23 14 6
23 21 6
23 28 6
19 40 8
8 42 8
0 39 5
11
0 0 5
8 0 5
18 8 10
8 16 5
0 16 5
0 24 5
3 32 5
10 32 5
17 28 8
27 25 3
30 18 5
0
Output for the Sample Input
58.953437
11.414214
16.0
61.874812
63.195179
