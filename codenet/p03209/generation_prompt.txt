En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
L, X=map(int, input().split())
def h(l):
  if l==0:
    return 1
  else:
    return h(l-1)*2+3

def f(l,x):
  if l == 0:
    if x == 0:
      return 0
    else:
      return 1
  else:
    if x <= 1:
      return 0
    elif x <= h(l-1) + 1:
      return f(l-1, x-1)
    elif x == h(l-1) + 2:
      return f(l-1, h(l-1))+1
    elif x <= h(l-1) * 2 + 2:
      return f(l-1, h(l-1))+1+f(l-1, x - h(l-1) - 2 )
    else:
      return f(l-1, h(l-1)) * 2 + 1
print(f(L,X))
```