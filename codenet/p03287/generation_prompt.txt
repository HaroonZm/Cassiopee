En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
def d_candy_distribution(N, M, A):
    import itertools
    import collections
    b = [0] + list(itertools.accumulate(A))

    # Aの累積和のうち、Mで割った余りが等しい要素の個数
    remainders = collections.defaultdict(int)
    for t in b:
        remainders[t % M] += 1

    ans = 0
    for k, v in remainders.items():
        if v >= 2:
            # 余りが等しい要素が2個以上あるなら、それから2つ選んで要望を満たせる
            ans += v * (v - 1) // 2
    return ans

N, M = [int(i) for i in input().split()]
A = [int(i) for i in input().split()]
print(d_candy_distribution(N, M, A))
```