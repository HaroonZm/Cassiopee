Voici un énoncé de problème :

B: 周期数列 - Periodic Sequence -
問題
H大学の教授を務めているPeriod博士は、万物に潜むとされる周期と呼ばれる性質を研究している。一般的に知られている基本的な周期としては、数列に潜む周期が考えられるだろう。すなわち、長さ
N
の数列
S = S_1, S_2,
...
, S_N
が以下の性質を満たすならば、周期
t
(
t \≤ N
) を持つという事実である。
1 \≤ i \≤ N − t
について、
S_i=S_{i+t}
である。
今、Period博士が着目しているのは、周期を用いてより簡易な記述ができる数列である。例えば、長さ
N
の数列が周期
t
(
\≤ N
) を持つとき、ある整数
k
を用いて
N=kt
と書けるならば、その数列は長さ
t
の数列
S_1,
...
, S_t
が
k
個連続したものである、と記述できる。Period博士は数列を例のように記述できたとき、その数列は
k
-partであると言うことにした。
Period博士は、
k
が最も大きい
k
-partに興味を示している。そこで助手であるあなたは、入力として数列を受け取り、それが
k
-partであるとき最も大きい
k
を出力するプログラムの作成を任されることとなった。Period博士の要求に正確に応えるプログラムを作成しよう。
入力形式
N
S_1
...
S_N
1行目には、数列の長さを表す整数
N
が与えられる。2行目には、長さ
N
の数列の各要素を表す整数
S_i
(
1 \≤ i \≤ N
) が空白区切りで与えられる。また、入力は
1 \≤ N \≤ 200,000
と
1 \≤ S_i \≤ 100,000
(
1 \≤ i \≤ N
) を満たす。
出力形式
与えられた数列に対して、
k
-partであるときの
k
の最大値を1行に出力せよ。
入力例1
6
1 2 3 1 2 3
出力例1
2
入力例2
12
1 2 1 2 1 2 1 2 1 2 1 2
出力例2
6
入力例3
6
1 2 3 4 5 6
出力例3
1
