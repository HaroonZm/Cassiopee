En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
#!/usr/bin/env python

"""参考文献
http://ja.wikipedia.org/wiki/クラスカル法
"""
from __future__ import (division, absolute_import, print_function,
                        unicode_literals)
from sys import stdin

while True:
    num_node = int(stdin.readline())
    if not num_node:
        break

    S = []
    for _ in range(int(stdin.readline())):
        S.append([int(s) for s in stdin.readline().split(',')])
    S.sort(key=lambda (n1, n2, d): d, reverse=True)

    forest = {frozenset([i]) for i in range(num_node)}
    spanning = []
    while S:
        node1, node2, distance = S.pop()
        a, b = None, None
        for tree in forest:
            if node1 in tree:
                a = tree
            if node2 in tree:
                b = tree
            if a and b:
                break
        if a != b:
            forest.add(a | b)
            forest.remove(a)
            forest.remove(b)
            spanning.append(distance)
    print(sum((distance // 100) - 1 for distance in spanning))
```