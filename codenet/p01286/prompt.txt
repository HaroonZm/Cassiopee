Voici un énoncé de problème :

Problem D:
Luigi's Tavern
Luigi's Tavern is a thriving tavern in the Kingdom of Nahaila. The owner of the tavern Luigi supports to
organize a party, because the main customers of the tavern are adventurers. Each adventurer has a job:
hero, warrior, cleric or mage.
Any party should meet the following conditions:
A party should have a hero.
The warrior and the hero in a party should get along with each other.
The cleric and the warrior in a party should get along with each other.
The mage and the cleric in a party should get along with each other.
It is recommended that a party has a warrior, a cleric, and a mage, but it is allowed that at most
N
W
,
N
C
and
N
m
parties does not have a warrior, a cleric, and a mage respectively.
A party without a cleric should have a warrior and a mage.
Now, the tavern has
H
heroes,
W
warriors,
C
clerics and
M
mages. Your job is to write a program to find the maximum number of parties they can form.
Input
The input consists of multiple datasets. Each dataset has the following format:
The first line of the input contains 7 non-negative integers
H
,
W
,
C
,
M
,
N
W
,
N
C
, and
N
M
, each of which is less than or equals to 50. The
i
-th of the following
W
lines contains the list of heroes who will be getting along with the warrior
i
. The list begins with a non-negative integer
n
i
, less than or equals to
H
. Then the rest of the line should contain ni positive integers, each of which indicates the ID of a hero getting along with the warrior
i
.
After these lists, the following
C
lines contain the lists of warriors getting along with the clerics in the same manner. The
j
-th line contains a list of warriors who will be getting along with the cleric
j
. Then the last
M
lines of the input contain the lists of clerics getting along with the mages, of course in the same
manner. The
k
-th line contains a list of clerics who will be getting along with the mage
k
.
The last dataset is followed by a line containing seven negative integers. This line is not a part of any dataset and should not be processed.
Output
For each dataset, you should output the maximum number of parties possible.
Sample Input
2 1 1 1 1 1 1
1 1
1 1
1 1
1 1 1 1 0 0 0
1 1
1 1
1 1
1 0 1 0 1 0 1
0
1 1 0 1 0 1 0
0
0
1 1 0 1 0 1 0
1 1
0
-1 -1 -1 -1 -1 -1 -1
Output for the Sample Input
2
1
1
0
1
