En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
while True:
    m, n = map(int, input().split())
    if n+m == 0:
        break
    else:
        book_list = [int(input()) for _ in range(n)]
        left = min(book_list)
        right = 10**7
        while left < right:
            w = (left+right)//2
            cnt_m = 1
            tmp_w = 0
            for book in book_list:
                if book > w:
                    cnt_m = m + 1
                else:
                    tmp_w += book
                    if tmp_w > w:
                        tmp_w = book
                        cnt_m += 1
            if cnt_m > m:
                left = w + 1
            else:
                right = w
        print(left)
```