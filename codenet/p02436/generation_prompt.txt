En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
n,q=map(int,input().split())
list1=[[] for k in range(n)]
for i in range(q):
  list2=list(map(int,input().split()))
  if list2[0]==0:
    list1[list2[1]].append(list2[2])
  elif list2[0]==1:
    if list1[list2[1]]!=[]:
      print(list1[list2[1]][0])
  else:
    if list1[list2[1]]!=[]:
      del list1[list2[1]][0]
```