En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
from fractions import Fraction
while True:
  s=input()
  if s=="#": break
  s="".join([c for c in s if c=='n' or c=='w'])
  x=0 if s[-1]=='n' else 90
  for i in range(len(s)-1):
    if s[-2-i]=='n':
      x-=Fraction(45,1<<i)
    else:
      x+=Fraction(45,1<<i)
  print(x)
```