En te basant sur cet énoncé, réécris le code suivant tout en conservant exactement sa fonctionnalité.

```python
t = input()
p = input()

ok = 1
result1 = [0] * len(p); idx = 0
for i, c in enumerate(t):
    if idx < len(p) and c == p[idx]:
        result1[idx] = i
        idx += 1
if idx < len(p):
    ok = 0
result2 = [0] * len(p); idx = len(p)-1
for i in range(len(t)-1, -1, -1):
    c = t[i]
    if idx >= 0 and c == p[idx]:
        result2[idx] = i
        idx -= 1
if idx >= 0:
    ok = 0
if ok and result1 == result2:
    print("yes")
else:
    print("no")
```