Voici un énoncé de problème :

壁
２XXX年、突然出現した天敵の侵入を防ぐために、人類は壁を作りその中に逃げ込んだ。その結果、人類の活動領域はその壁で囲まれた範囲に限定されてしまった。この領域は、上空から見ると
W
×
H
の長方形である。領域内部には
x
軸あるいは
y
軸に対して平行な壁がいくつか設置されている。活動領域の例を下図に示す。
人類は活動領域内を自由に移動することができるが、壁を越えるためには一定量の資源を消費しなければならない。ただし、壁を越えることはできるが（図中の (1)）、壁の交点を越えること (2)、壁や活動領域の境界の上を移動すること (3)、活動領域外に出ること (4) はできない。
領域内部の壁の情報といくつかの始点と終点の組を入力し、始点から終点へ移動するために越えなければならない壁の数の最小値を計算するプログラムを作成しなさい。ただし、壁は幅のない線分とします。
入力
入力は１つのデータセットからなる。入力データは以下の形式で与えられる。
W
H
M
px
1
py
1
qx
1
qy
1
px
2
py
2
qx
2
qy
2
:
px
M
py
M
qx
M
qy
M
Q
sx
1
sy
1
gx
1
gy
1
sx
2
sy
2
gx
2
gy
2
:
sx
Q
sy
Q
gx
Q
gy
Q
1行目に領域の横の長さと縦の長さを表す整数
W
,
H
(2 ≤
W,H
≤ 1,000,000,000) と壁の数
M
(0 ≤
M
≤ 100) が与えられる。
続く
M
行に壁を表す線分の情報が与えられる。各行に与えられる４つの整数
px
i
,
py
i
,
qx
i
,
qy
i
(0 ≤
px
i
,
qx
i
≤
W
, 0 ≤
py
i
,
qy
i
≤
H
) はそれぞれ
i
番目の線分の端点の
x
座標、
y
座標、もうひとつの端点の
x
座標、
y
座標を表す。
続く1行に質問の数
Q
(1 ≤
Q
≤ 100) が与えられる。続く
Q
行に各質問が与えられる。各質問に含まれる４つの整数
sx
i
,
sy
i
,
gx
i
,
gy
i
(0 <
sx
i
,
gx
i
<
W
, 0 <
sy
i
,
gy
i
<
H
) はそれぞれ始点の
x
座標、
y
座標、終点の
x
座標、
y
座標を表す。
入力は以下の条件を満たす。
各線分は
x
軸あるいは
y
軸に対して平行であり、長さは1以上である。
２つの互いに平行な線分が同じ点あるいは線分を共有することはない。
スタート地点、ゴール地点は壁上にあることはない。
どの線分も活動領域の境界と線分を共有することはない。
出力
質問ごとに、壁を越える回数の最小値を出力する。
入出力例
入力例 1
5 6 5
0 2 5 2
0 3 5 3
0 4 3 4
1 4 1 6
3 0 3 6
2
2 5 4 1
2 5 4 5
出力例 1
3
1
入力例 2
4 4 0
1
1 1 2 2
出力例 2
0
入力例 3
4 7 3
0 2 2 2
3 3 4 3
0 5 4 5
3
1 1 1 3
1 1 1 4
1 1 1 6
出力例 3
0
0
1
