================================================================================
ANALYSE DES PRÉDICTIONS DE TOKENS
================================================================================

SCRIPT ORIGINAL:
--------------------------------------------------------------------------------
def f(n):
    return n * f(n - 1) if n != 0 else 1
print(f(int(input())))
--------------------------------------------------------------------------------

INFORMATION SUR LA TOKENISATION:
--------------------------------------------------------------------------------
Tokenisation utilisée: tiktoken pour le modèle gpt-4o-mini
Il s'agit de la tokenisation officielle utilisée par les modèles OpenAI.
--------------------------------------------------------------------------------

TOKENS IDENTIFIÉS:
--------------------------------------------------------------------------------
Token 0: 'def' (ID: 1314)
Token 1: ' f' (ID: 285)
Token 2: '(n' (ID: 2406)
Token 3: '):\n' (ID: 1883)
Token 4: '   ' (ID: 271)
Token 5: ' return' (ID: 622)
Token 6: ' n' (ID: 297)
Token 7: ' *' (ID: 425)
Token 8: ' f' (ID: 285)
Token 9: '(n' (ID: 2406)
Token 10: ' -' (ID: 533)
Token 11: ' ' (ID: 220)
Token 12: '1' (ID: 16)
Token 13: ')' (ID: 8)
Token 14: ' if' (ID: 538)
Token 15: ' n' (ID: 297)
Token 16: ' !=' (ID: 1666)
Token 17: ' ' (ID: 220)
Token 18: '0' (ID: 15)
Token 19: ' else' (ID: 1203)
Token 20: ' ' (ID: 220)
Token 21: '1' (ID: 16)
Token 22: '\n' (ID: 198)
Token 23: 'print' (ID: 1598)
Token 24: '(f' (ID: 1526)
Token 25: '(int' (ID: 2742)
Token 26: '(input' (ID: 10054)
Token 27: '())))' (ID: 168342)
--------------------------------------------------------------------------------

INFORMATIONS SUR LA MATRICE 2D DE LOG PROBABILITÉS:
--------------------------------------------------------------------------------
Dimensions de la matrice: 3 lignes x 19 tokens max
Nombre de tokens par ligne: [4, 19, 5]
Convention de valeurs:
  - Log probabilité normale: Valeur réelle (typiquement entre -1 et -20)
  - Anomalie (token hors top-10): -50
  - Padding (positions vides): 100

Matrice 2D (format texte simplifiée):
[-10.00, -10.00, -10.00, -0.60, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, ]
[-0.05, -1.31, -0.72, -0.88, -4.04, -0.00, -0.47, -0.00, -0.00, -0.00, -0.00, -0.00, -6.06, -0.00, -0.35, -0.00, -0.00, -0.00, -2.31, ]
[-3.69, -0.02, -7.50, -0.02, -0.44, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, ]

Note: La matrice a été sauvegardée au format numpy dans 'matrice_logprob.npy'
--------------------------------------------------------------------------------

ANALYSE TOKEN PAR TOKEN:
--------------------------------------------------------------------------------
Position 0: 'def' (ID: 1314) (token d'amorce)
--------------------------------------------------------------------------------

Position 1: ' f' (ID: 285) (token d'amorce)
--------------------------------------------------------------------------------

Position 2: '(n' (ID: 2406) (token d'amorce)
--------------------------------------------------------------------------------

Position 3: '):\n' (ID: 1883)
Prédiction principale: '):\n' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '):\n' (logprob: -0.5993) [Prédiction principale]
  2. '):\r\n' (logprob: -1.8493)
  3. ',' (logprob: -2.3493)
  4. ':' (logprob: -2.3493)
  5. '):' (logprob: -3.2243)
  6. ':int' (logprob: -4.3493)
  7. ',m' (logprob: -4.5993)
  8. ')' (logprob: -5.0993)
  9. '):\n\n' (logprob: -5.3493)
  10. '1' (logprob: -5.5993)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 4: '   ' (ID: 271)
Prédiction principale: '   ' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '   ' (logprob: -0.0519) [Prédiction principale]
  2. ' ' (logprob: -3.3019)
  3. '  ' (logprob: -5.5519)
  4. '    \n' (logprob: -6.1769)
  5. '\tif' (logprob: -6.5519)
  6. '    ' (logprob: -6.9269)
  7. '\t' (logprob: -7.1769)
  8. '       ' (logprob: -7.3019)
  9. '#' (logprob: -7.4269)
  10. '\treturn' (logprob: -7.5519)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 5: ' return' (ID: 622) [Après tabulation]
Prédiction principale: ' if' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ' if' (logprob: -0.9355) [Prédiction principale]
* 2. ' return' (logprob: -1.3105)
  3. ' #' (logprob: -2.3105)
  4. ' result' (logprob: -3.8105)
  5. ' count' (logprob: -4.4355)
  6. ' """\n' (logprob: -4.4355)
  7. ' a' (logprob: -4.5605)
  8. ' s' (logprob: -4.5605)
  9. ' total' (logprob: -4.5605)
  10. ' """' (logprob: -4.5605)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------

Position 6: ' n' (ID: 297)
Prédiction principale: ' n' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' n' (logprob: -0.7223) [Prédiction principale]
  2. ' ' (logprob: -1.9723)
  3. ' (' (logprob: -2.0973)
  4. ' sum' (logprob: -2.5973)
  5. ' int' (logprob: -3.8473)
  6. ' [' (logprob: -3.8473)
  7. ' f' (logprob: -4.3473)
  8. ' ((' (logprob: -4.5973)
  9. ' '' (logprob: -4.8473)
  10. ' str' (logprob: -4.8473)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 7: ' *' (ID: 425)
Prédiction principale: ' *' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' *' (logprob: -0.8803) [Prédiction principale]
  2. '**' (logprob: -1.8803)
  3. ' +' (logprob: -2.2553)
  4. ' **' (logprob: -2.3803)
  5. ' %' (logprob: -2.7553)
  6. ' //' (logprob: -3.6303)
  7. '\n\n' (logprob: -3.7553)
  8. '*n' (logprob: -4.0053)
  9. '*(' (logprob: -4.1303)
  10. ' -' (logprob: -4.3803)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 8: ' f' (ID: 285)
Prédiction principale: ' n' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ' n' (logprob: -0.9169) [Prédiction principale]
  2. ' (' (logprob: -1.0419)
  3. ' ' (logprob: -1.5419)
* 4. ' f' (logprob: -4.0419)
  5. ' factorial' (logprob: -5.5419)
  6. ' sum' (logprob: -6.6669)
  7. ' g' (logprob: -7.0419)
  8. ' math' (logprob: -7.0419)
  9. ' '' (logprob: -7.1669)
  10. ' [' (logprob: -7.1669)

Le token attendu est à la position 4 dans les prédictions.

--------------------------------------------------------------------------------

Position 9: '(n' (ID: 2406)
Prédiction principale: '(n' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '(n' (logprob: -0.0004) [Prédiction principale]
  2. '(' (logprob: -9.0004)
  3. '1' (logprob: -10.7504)
  4. '2' (logprob: -10.8754)
  5. '(f' (logprob: -10.8754)
  6. '_' (logprob: -11.2504)
  7. '((' (logprob: -11.2504)
  8. '_helper' (logprob: -11.2504)
  9. '_recursive' (logprob: -11.2504)
  10. ' (' (logprob: -11.3754)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 10: ' -' (ID: 533)
Prédiction principale: ' -' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' -' (logprob: -0.4748) [Prédiction principale]
  2. '-' (logprob: -0.9748)
  3. ' //' (logprob: -8.4748)
  4. ' +' (logprob: -8.5998)
  5. ')' (logprob: -9.4748)
  6. ')\n\n' (logprob: -9.5998)
  7. '//' (logprob: -10.0998)
  8. '+' (logprob: -10.4748)
  9. ' /' (logprob: -10.4748)
  10. ' –' (logprob: -11.0373)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 11: ' ' (ID: 220)
Prédiction principale: ' ' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' ' (logprob: -0.0007) [Prédiction principale]
  2. '1' (logprob: -7.2507)
  3. '2' (logprob: -12.7507)
  4. ' (' (logprob: -13.0007)
  5. ' n' (logprob: -13.1257)
  6. ' k' (logprob: -13.3757)
  7. '3' (logprob: -14.0007)
  8. ' f' (logprob: -14.1257)
  9. ' i' (logprob: -14.1257)
  10. ' int' (logprob: -14.2507)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 12: '1' (ID: 16)
Prédiction principale: '1' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '1' (logprob: -0.0022) [Prédiction principale]
  2. '2' (logprob: -6.2522)
  3. '3' (logprob: -9.0022)
  4. '5' (logprob: -9.5022)
  5. '4' (logprob: -11.0022)
  6. '10' (logprob: -11.3772)
  7. ' ' (logprob: -11.8772)
  8. '0' (logprob: -12.0022)
  9. '100' (logprob: -12.2522)
  10. '7' (logprob: -12.5022)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 13: ')' (ID: 8)
Prédiction principale: ')' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ')' (logprob: -0.0041) [Prédiction principale]
  2. ')\n\n' (logprob: -5.6291)
  3. ')\n' (logprob: -8.0041)
  4. ')\n\n\n' (logprob: -10.0041)
  5. ' if' (logprob: -10.5041)
  6. ',' (logprob: -10.7541)
  7. '),' (logprob: -10.7541)
  8. ' )' (logprob: -11.8791)
  9. ').' (logprob: -12.5041)
  10. '\n\n' (logprob: -13.2541)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 14: ' if' (ID: 538)
Prédiction principale: ' if' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' if' (logprob: -0.0004) [Prédiction principale]
  2. ' ' (logprob: -8.3754)
  3. ' +' (logprob: -10.6254)
  4. 'if' (logprob: -11.0004)
  5. ' \n\n' (logprob: -11.0004)
  6. ' for' (logprob: -11.1254)
  7. '  ' (logprob: -11.3754)
  8. ' *' (logprob: -11.3754)
  9. ' #' (logprob: -11.5004)
  10. ' \n' (logprob: -12.0004)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 15: ' n' (ID: 297)
Prédiction principale: ' n' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' n' (logprob: -0.0012) [Prédiction principale]
  2. ' (' (logprob: -6.7512)
  3. ' ' (logprob: -10.5012)
  4. '(n' (logprob: -11.1262)
  5. ' f' (logprob: -12.2512)
  6. 'n' (logprob: -12.7512)
  7. ' not' (logprob: -13.3762)
  8. ' i' (logprob: -14.9387)
  9. ' isinstance' (logprob: -15.0012)
  10. '\n\n' (logprob: -15.2512)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 16: ' !=' (ID: 1666)
Prédiction principale: ' >' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ' >' (logprob: -0.0591) [Prédiction principale]
  2. ' else' (logprob: -2.9341)
* 3. ' !=' (logprob: -6.0591)
  4. ' >=' (logprob: -6.4341)
  5. '>' (logprob: -8.8091)
  6. ' -' (logprob: -10.1841)
  7. ' ' (logprob: -11.3091)
  8. ' <=' (logprob: -11.3091)
  9. ' and' (logprob: -11.6841)
  10. ' ==' (logprob: -11.8716)

Le token attendu est à la position 3 dans les prédictions.

--------------------------------------------------------------------------------

Position 17: ' ' (ID: 220)
Prédiction principale: ' ' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' ' (logprob: -0.0003) [Prédiction principale]
  2. '0' (logprob: -8.6253)
  3. '1' (logprob: -9.1253)
  4. ' -' (logprob: -13.3753)
  5. ' (' (logprob: -14.2503)
  6. ' "' (logprob: -14.6253)
  7. ' '' (logprob: -14.7503)
  8. ' n' (logprob: -14.8753)
  9. ' .' (logprob: -15.1878)
  10. '2' (logprob: -15.5628)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 18: '0' (ID: 15)
Prédiction principale: '0' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '0' (logprob: -0.3485) [Prédiction principale]
  2. '1' (logprob: -1.2235)
  3. '2' (logprob: -10.0985)
  4. ' ' (logprob: -10.7235)
  5. '3' (logprob: -13.2235)
  6. '5' (logprob: -13.8485)
  7. '10' (logprob: -14.0985)
  8. '100' (logprob: -14.2235)
  9. '4' (logprob: -14.2860)
  10. '01' (logprob: -14.9735)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 19: ' else' (ID: 1203)
Prédiction principale: ' else' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' else' (logprob: -0.0014) [Prédiction principale]
  2. ' and' (logprob: -6.6264)
  3. ' ' (logprob: -10.0014)
  4. ' el' (logprob: -11.8764)
  5. ' els' (logprob: -12.0014)
  6. ' otherwise' (logprob: -12.6264)
  7. '\n\n' (logprob: -13.2514)
  8. ' or' (logprob: -13.2514)
  9. 'else' (logprob: -13.2514)
  10. ' e' (logprob: -13.3764)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 20: ' ' (ID: 220)
Prédiction principale: ' ' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' ' (logprob: -0.0005) [Prédiction principale]
  2. ' n' (logprob: -8.5005)
  3. ' (' (logprob: -9.0005)
  4. ' "' (logprob: -10.3755)
  5. ' -' (logprob: -10.8755)
  6. ' f' (logprob: -11.0005)
  7. ' '' (logprob: -11.0005)
  8. '1' (logprob: -11.2505)
  9. ' None' (logprob: -11.8755)
  10. '\n\n' (logprob: -12.0005)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 21: '1' (ID: 16)
Prédiction principale: '1' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '1' (logprob: -0.0004) [Prédiction principale]
  2. '0' (logprob: -8.2504)
  3. ' ' (logprob: -9.8754)
  4. '2' (logprob: -10.1254)
  5. '3' (logprob: -11.6254)
  6. '10' (logprob: -11.6254)
  7. '5' (logprob: -11.7504)
  8. '100' (logprob: -12.2504)
  9. '4' (logprob: -12.3754)
  10. '6' (logprob: -12.7504)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 22: '\n' (ID: 198)
Prédiction principale: '\n\n' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '\n\n' (logprob: -0.1847) [Prédiction principale]
* 2. '\n' (logprob: -2.3097)
  3. '\n\n\n' (logprob: -3.4347)
  4. ' ' (logprob: -3.8097)
  5. '\n    \n' (logprob: -5.4347)
  6. ' \n\n' (logprob: -5.9347)
  7. '\n  \n' (logprob: -6.1847)
  8. ' #' (logprob: -6.3097)
  9. '\n \n' (logprob: -7.4347)
  10. '  ' (logprob: -7.9347)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------

Position 23: 'print' (ID: 1598)
Prédiction principale: '``' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '``' (logprob: -0.0673) [Prédiction principale]
* 2. 'print' (logprob: -3.6923)
  3. '```' (logprob: -4.4423)
  4. '#' (logprob: -5.4423)
  5. 'n' (logprob: -5.6923)
  6. '\\' (logprob: -6.1923)
  7. 'f' (logprob: -6.1923)
  8. 'def' (logprob: -6.1923)
  9. '"""\n' (logprob: -6.3173)
  10. '"""\n\n' (logprob: -6.3173)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------

Position 24: '(f' (ID: 1526)
Prédiction principale: '(f' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '(f' (logprob: -0.0157) [Prédiction principale]
  2. '([' (logprob: -5.3907)
  3. '("' (logprob: -5.8907)
  4. ' (' (logprob: -6.0157)
  5. ' f' (logprob: -6.5157)
  6. '('' (logprob: -7.0157)
  7. '(' (logprob: -7.2657)
  8. '(list' (logprob: -7.2657)
  9. '(sum' (logprob: -8.0157)
  10. '((' (logprob: -8.8907)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 25: '(int' (ID: 2742)
Prédiction principale: '(' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '(' (logprob: -0.0011) [Prédiction principale]
* 2. '(int' (logprob: -7.5011)
  3. '(f' (logprob: -9.0011)
  4. '(n' (logprob: -9.1261)
  5. 'actor' (logprob: -10.0011)
  6. '.__' (logprob: -10.0011)
  7. ' (' (logprob: -10.3761)
  8. 'act' (logprob: -10.3761)
  9. '"' (logprob: -10.7511)
  10. '(-' (logprob: -11.3761)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------

Position 26: '(input' (ID: 10054)
Prédiction principale: '(input' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '(input' (logprob: -0.0178) [Prédiction principale]
  2. '(sys' (logprob: -4.2678)
  3. '(' (logprob: -6.3928)
  4. '('' (logprob: -8.0178)
  5. '("' (logprob: -8.2678)
  6. '(raw' (logprob: -8.5178)
  7. '(n' (logprob: -8.7678)
  8. '(argv' (logprob: -9.0178)
  9. ' (' (logprob: -9.6428)
  10. '(in' (logprob: -9.6428)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 27: '())))' (ID: 168342)
Prédiction principale: '())))' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '())))' (logprob: -0.4443) [Prédiction principale]
  2. '())))\n' (logprob: -1.6943)
  3. '("' (logprob: -2.0693)
  4. '('' (logprob: -3.8193)
  5. '()))' (logprob: -3.8193)
  6. '().' (logprob: -5.9443)
  7. '())' (logprob: -7.8193)
  8. ')))' (logprob: -8.0693)
  9. '()' (logprob: -8.4443)
  10. '()))\n' (logprob: -8.4443)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------


RÉSUMÉ:
--------------------------------------------------------------------------------
Total des tokens analysés: 25
Tokens correctement prédits (1ère position, stricte): 19
Tokens correctement prédits (1ère position, avec adaptation): 19
Tokens correctement prédits (top 10): 25
Précision stricte (1ère position): 76.00%
Précision adaptée (1ère position): 76.00%
Précision (top 10): 100.00%
================================================================================
