================================================================================
ANALYSE DES PRÉDICTIONS DE TOKENS
================================================================================

SCRIPT ORIGINAL:
--------------------------------------------------------------------------------
line = raw_input().strip()
print reduce(lambda a, b: a + b, reversed(line))
--------------------------------------------------------------------------------

INFORMATION SUR LA TOKENISATION:
--------------------------------------------------------------------------------
Tokenisation utilisée: tiktoken pour le modèle gpt-4o-mini
Il s'agit de la tokenisation officielle utilisée par les modèles OpenAI.
--------------------------------------------------------------------------------

TOKENS IDENTIFIÉS:
--------------------------------------------------------------------------------
Token 0: 'line' (ID: 1137)
Token 1: ' =' (ID: 314)
Token 2: ' raw' (ID: 11428)
Token 3: '_input' (ID: 12507)
Token 4: '().' (ID: 1454)
Token 5: 'strip' (ID: 23905)
Token 6: '()\n' (ID: 1234)
Token 7: 'print' (ID: 1598)
Token 8: ' reduce' (ID: 10389)
Token 9: '(lambda' (ID: 43341)
Token 10: ' a' (ID: 261)
Token 11: ',' (ID: 11)
Token 12: ' b' (ID: 287)
Token 13: ':' (ID: 25)
Token 14: ' a' (ID: 261)
Token 15: ' +' (ID: 659)
Token 16: ' b' (ID: 287)
Token 17: ',' (ID: 11)
Token 18: ' reversed' (ID: 57184)
Token 19: '(line' (ID: 18178)
Token 20: '))' (ID: 915)
--------------------------------------------------------------------------------

INFORMATIONS SUR LA MATRICE 2D DE LOG PROBABILITÉS:
--------------------------------------------------------------------------------
Dimensions de la matrice: 2 lignes x 14 tokens max
Nombre de tokens par ligne: [7, 14]
Convention de valeurs:
  - Log probabilité normale: Valeur réelle (typiquement entre -1 et -20)
  - Anomalie (token hors top-10): -50
  - Padding (positions vides): 100

Matrice 2D (format texte simplifiée):
[-10.00, -10.00, -10.00, -0.16, -1.85, -0.14, -0.39, PAD, PAD, PAD, PAD, PAD, PAD, PAD, ]
[-3.86, ANOM, -0.24, -1.96, -0.64, -0.03, -0.02, -0.22, -0.73, -0.37, -0.19, ANOM, -0.90, -3.15, ]

Note: La matrice a été sauvegardée au format numpy dans 'matrice_logprob.npy'
--------------------------------------------------------------------------------

ANALYSE TOKEN PAR TOKEN:
--------------------------------------------------------------------------------
Position 0: 'line' (ID: 1137) (token d'amorce)
--------------------------------------------------------------------------------

Position 1: ' =' (ID: 314) (token d'amorce)
--------------------------------------------------------------------------------

Position 2: ' raw' (ID: 11428) (token d'amorce)
--------------------------------------------------------------------------------

Position 3: '_input' (ID: 12507)
Prédiction principale: '_input' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '_input' (logprob: -0.1603) [Prédiction principale]
  2. '_data' (logprob: -3.7853)
  3. 'Input' (logprob: -3.9103)
  4. '_line' (logprob: -4.7853)
  5. 'data' (logprob: -5.1603)
  6. 'Data' (logprob: -5.1603)
  7. 'input' (logprob: -5.5353)
  8. '.readline' (logprob: -5.6603)
  9. '[' (logprob: -5.7853)
  10. 'line' (logprob: -5.7853)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 4: '().' (ID: 1454)
Prédiction principale: '("' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '("' (logprob: -1.1030) [Prédiction principale]
  2. '()\n' (logprob: -1.4780)
* 3. '().' (logprob: -1.8530)
  4. '('' (logprob: -1.9780)
  5. '()' (logprob: -3.4780)
  6. '()\n\n' (logprob: -3.8530)
  7. '(prompt' (logprob: -4.8530)
  8. '("\\' (logprob: -4.9780)
  9. '(">' (logprob: -4.9780)
  10. '()\r\n' (logprob: -5.2280)

Le token attendu est à la position 3 dans les prédictions.

--------------------------------------------------------------------------------

Position 5: 'strip' (ID: 23905)
Prédiction principale: 'strip' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. 'strip' (logprob: -0.1388) [Prédiction principale]
  2. 'split' (logprob: -2.6388)
  3. 'rstrip' (logprob: -3.0138)
  4. 'lower' (logprob: -5.6388)
  5. 'replace' (logprob: -6.2638)
  6. 'decode' (logprob: -6.3888)
  7. 'upper' (logprob: -7.8888)
  8. 'encode' (logprob: -8.1388)
  9. 'l' (logprob: -8.5138)
  10. 'str' (logprob: -9.3888)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 6: '()\n' (ID: 1234)
Prédiction principale: '()\n' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '()\n' (logprob: -0.3874) [Prédiction principale]
  2. '().' (logprob: -2.1374)
  3. '()\n\n' (logprob: -2.5124)
  4. '()' (logprob: -2.8874)
  5. '()\r\n' (logprob: -3.3874)
  6. '('\\' (logprob: -4.7624)
  7. '()\r\n\r\n' (logprob: -5.0124)
  8. '("\\' (logprob: -6.0124)
  9. '())\n' (logprob: -6.1374)
  10. '())' (logprob: -6.3874)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 7: 'print' (ID: 1598)
Prédiction principale: '   ' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '   ' (logprob: -1.7301) [Prédiction principale]
  2. '       ' (logprob: -1.7301)
  3. 'while' (logprob: -2.2301)
  4. 'if' (logprob: -2.3551)
  5. '           ' (logprob: -2.7301)
  6. '    \n' (logprob: -3.6051)
  7. '#' (logprob: -3.7301)
* 8. 'print' (logprob: -3.8551)
  9. '               ' (logprob: -3.9801)
  10. '\t' (logprob: -4.2301)

Le token attendu est à la position 8 dans les prédictions.

--------------------------------------------------------------------------------

Position 8: ' reduce' (ID: 10389)
Prédiction principale: ' line' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ' line' (logprob: -1.4808) [Prédiction principale]
  2. '(line' (logprob: -1.9808)
  3. ' "' (logprob: -2.1058)
  4. ' '' (logprob: -2.4808)
  5. '("' (logprob: -3.1058)
  6. ' (' (logprob: -3.4808)
  7. '('' (logprob: -3.8558)
  8. '(' (logprob: -4.2308)
  9. ' len' (logprob: -4.4808)
  10. ' get' (logprob: -4.8558)

Le token attendu n'est pas dans le top 10 des prédictions.

--------------------------------------------------------------------------------

Position 9: '(lambda' (ID: 43341)
Prédiction principale: '(lambda' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '(lambda' (logprob: -0.2447) [Prédiction principale]
  2. '(' (logprob: -2.8697)
  3. '((' (logprob: -3.8697)
  4. '(str' (logprob: -3.9947)
  5. '(re' (logprob: -4.6197)
  6. '(operator' (logprob: -4.6197)
  7. ' (' (logprob: -4.7447)
  8. '(int' (logprob: -4.8697)
  9. '(f' (logprob: -5.3697)
  10. '(\n' (logprob: -5.3697)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 10: ' a' (ID: 261)
Prédiction principale: ' x' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ' x' (logprob: -0.5841) [Prédiction principale]
  2. ' acc' (logprob: -1.8341)
* 3. ' a' (logprob: -1.9591)
  4. ' s' (logprob: -3.0841)
  5. ' r' (logprob: -4.2091)
  6. ' l' (logprob: -4.3341)
  7. ' p' (logprob: -5.0841)
  8. ' res' (logprob: -5.2091)
  9. ' total' (logprob: -5.4591)
  10. ' d' (logprob: -5.5841)

Le token attendu est à la position 3 dans les prédictions.

--------------------------------------------------------------------------------

Position 11: ',' (ID: 11)
Prédiction principale: ',' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ',' (logprob: -0.6432) [Prédiction principale]
  2. ',b' (logprob: -0.7682)
  3. ',x' (logprob: -5.6432)
  4. ',c' (logprob: -6.3932)
  5. ' ,' (logprob: -7.0182)
  6. '1' (logprob: -7.6432)
  7. ',s' (logprob: -7.8932)
  8. ':' (logprob: -8.0182)
  9. ',e' (logprob: -8.1432)
  10. ',_' (logprob: -8.1432)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 12: ' b' (ID: 287)
Prédiction principale: ' b' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' b' (logprob: -0.0264) [Prédiction principale]
  2. ' x' (logprob: -4.5264)
  3. ' c' (logprob: -5.0264)
  4. ' _:' (logprob: -5.5264)
  5. ' e' (logprob: -6.9014)
  6. ' s' (logprob: -7.6514)
  7. ' n' (logprob: -7.7764)
  8. ' v' (logprob: -7.9014)
  9. ' d' (logprob: -8.0264)
  10. ' i' (logprob: -8.0264)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 13: ':' (ID: 25)
Prédiction principale: ':' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ':' (logprob: -0.0235) [Prédiction principale]
  2. ' :' (logprob: -3.8985)
  3. ':a' (logprob: -6.1485)
  4. ':(' (logprob: -8.1485)
  5. ',' (logprob: -8.5235)
  6. ':int' (logprob: -9.6485)
  7. ':\n' (logprob: -9.8985)
  8. ':'' (logprob: -10.1485)
  9. ':"' (logprob: -10.7735)
  10. ':[' (logprob: -10.8985)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 14: ' a' (ID: 261)
Prédiction principale: ' a' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' a' (logprob: -0.2162) [Prédiction principale]
  2. ' int' (logprob: -2.5912)
  3. ' (' (logprob: -3.0912)
  4. ' str' (logprob: -3.5912)
  5. ' max' (logprob: -4.7162)
  6. ' ' (logprob: -5.3412)
  7. ' b' (logprob: -5.7162)
  8. ' '' (logprob: -5.7162)
  9. ' min' (logprob: -5.7162)
  10. ' [' (logprob: -5.8412)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 15: ' +' (ID: 659)
Prédiction principale: ' +' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' +' (logprob: -0.7305) [Prédiction principale]
  2. ' *' (logprob: -1.7305)
  3. ' ^' (logprob: -2.2305)
  4. ' |' (logprob: -2.8555)
  5. '+b' (logprob: -2.8555)
  6. '*b' (logprob: -3.2305)
  7. ' &' (logprob: -3.9805)
  8. '^' (logprob: -4.3555)
  9. '*' (logprob: -4.6055)
  10. ' -' (logprob: -4.9805)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 16: ' b' (ID: 287)
Prédiction principale: ' b' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' b' (logprob: -0.3721) [Prédiction principale]
  2. ' '' (logprob: -2.7471)
  3. ' int' (logprob: -2.8721)
  4. ' (' (logprob: -2.9971)
  5. ' "' (logprob: -3.2471)
  6. ' ' (logprob: -3.4971)
  7. ' [' (logprob: -3.7471)
  8. ' str' (logprob: -4.7471)
  9. ' len' (logprob: -5.8721)
  10. ' ['' (logprob: -5.8721)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 17: ',' (ID: 11)
Prédiction principale: ',' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ',' (logprob: -0.1936) [Prédiction principale]
  2. '[' (logprob: -3.3186)
  3. ' if' (logprob: -3.6936)
  4. ' +' (logprob: -3.6936)
  5. ',\n' (logprob: -3.9436)
  6. ' *' (logprob: -3.9436)
  7. '.count' (logprob: -4.4436)
  8. ' -' (logprob: -4.9436)
  9. ' ,' (logprob: -5.6936)
  10. '*' (logprob: -5.9436)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 18: ' reversed' (ID: 57184)
Prédiction principale: ' map' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ' map' (logprob: -1.0529) [Prédiction principale]
  2. ' [' (logprob: -1.1779)
  3. ' line' (logprob: -2.3029)
  4. ' (' (logprob: -3.0529)
  5. ' sorted' (logprob: -3.5529)
  6. ' ['' (logprob: -4.0529)
  7. ' ["' (logprob: -4.0529)
  8. ' list' (logprob: -4.4279)
  9. ' filter' (logprob: -4.5529)
  10. ' re' (logprob: -4.6779)

Le token attendu n'est pas dans le top 10 des prédictions.

--------------------------------------------------------------------------------

Position 19: '(line' (ID: 18178)
Prédiction principale: '(line' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '(line' (logprob: -0.9039) [Prédiction principale]
  2. '([' (logprob: -1.7789)
  3. '(map' (logprob: -2.0289)
  4. '(sorted' (logprob: -2.5289)
  5. '(re' (logprob: -3.4039)
  6. '(list' (logprob: -4.0289)
  7. '(' (logprob: -4.1539)
  8. '(['' (logprob: -4.5289)
  9. '(["' (logprob: -4.9039)
  10. '(filter' (logprob: -5.0289)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 20: '))' (ID: 915)
Prédiction principale: '.split' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '.split' (logprob: -0.1544) [Prédiction principale]
* 2. '))' (logprob: -3.1544)
  3. '))\n' (logprob: -3.1544)
  4. ')).' (logprob: -3.6544)
  5. '),' (logprob: -4.4044)
  6. '))\n\n' (logprob: -5.0294)
  7. '.strip' (logprob: -5.9044)
  8. '.lower' (logprob: -6.1544)
  9. ')' (logprob: -6.6544)
  10. '[' (logprob: -6.6544)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------


RÉSUMÉ:
--------------------------------------------------------------------------------
Total des tokens analysés: 18
Tokens correctement prédits (1ère position, stricte): 12
Tokens correctement prédits (1ère position, avec adaptation): 12
Tokens correctement prédits (top 10): 16
Précision stricte (1ère position): 66.67%
Précision adaptée (1ère position): 66.67%
Précision (top 10): 88.89%
================================================================================
