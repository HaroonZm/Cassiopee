================================================================================
ANALYSE DES PRÉDICTIONS DE TOKENS
================================================================================

SCRIPT ORIGINAL:
--------------------------------------------------------------------------------
s=input()
print(s.replace('peach', 'X').replace('apple', 'peach').replace('X', 'apple'))
--------------------------------------------------------------------------------

INFORMATION SUR LA TOKENISATION:
--------------------------------------------------------------------------------
Tokenisation utilisée: tiktoken pour le modèle gpt-4o-mini
Il s'agit de la tokenisation officielle utilisée par les modèles OpenAI.
--------------------------------------------------------------------------------

TOKENS IDENTIFIÉS:
--------------------------------------------------------------------------------
Token 0: 's' (ID: 82)
Token 1: '=input' (ID: 87911)
Token 2: '()\n' (ID: 1234)
Token 3: 'print' (ID: 1598)
Token 4: '(s' (ID: 1858)
Token 5: '.replace' (ID: 12804)
Token 6: '('' (ID: 706)
Token 7: 'pe' (ID: 424)
Token 8: 'ach' (ID: 678)
Token 9: '',' (ID: 787)
Token 10: ' '' (ID: 461)
Token 11: 'X' (ID: 55)
Token 12: '').' (ID: 3426)
Token 13: 'replace' (ID: 15208)
Token 14: '('' (ID: 706)
Token 15: 'apple' (ID: 34058)
Token 16: '',' (ID: 787)
Token 17: ' '' (ID: 461)
Token 18: 'pe' (ID: 424)
Token 19: 'ach' (ID: 678)
Token 20: '').' (ID: 3426)
Token 21: 'replace' (ID: 15208)
Token 22: '('' (ID: 706)
Token 23: 'X' (ID: 55)
Token 24: '',' (ID: 787)
Token 25: ' '' (ID: 461)
Token 26: 'apple' (ID: 34058)
Token 27: ''))' (ID: 7974)
--------------------------------------------------------------------------------

INFORMATIONS SUR LA MATRICE 2D DE LOG PROBABILITÉS:
--------------------------------------------------------------------------------
Dimensions de la matrice: 2 lignes x 25 tokens max
Nombre de tokens par ligne: [3, 25]
Convention de valeurs:
  - Log probabilité normale: Valeur réelle (typiquement entre -1 et -20)
  - Anomalie (token hors top-10): -50
  - Padding (positions vides): 100

Matrice 2D (format texte simplifiée):
[-10.00, -10.00, -10.00, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, PAD, ]
[-2.77, -1.17, -3.14, -0.94, ANOM, -4.23, -1.64, -0.04, ANOM, -1.83, -0.03, -0.01, -1.59, -0.05, -0.01, -1.83, -0.00, -0.05, -0.00, -0.00, -0.00, -0.01, -0.00, -0.00, -0.21, ]

Note: La matrice a été sauvegardée au format numpy dans 'matrice_logprob.npy'
--------------------------------------------------------------------------------

ANALYSE TOKEN PAR TOKEN:
--------------------------------------------------------------------------------
Position 0: 's' (ID: 82) (token d'amorce)
--------------------------------------------------------------------------------

Position 1: '=input' (ID: 87911) (token d'amorce)
--------------------------------------------------------------------------------

Position 2: '()\n' (ID: 1234) (token d'amorce)
--------------------------------------------------------------------------------

Position 3: 'print' (ID: 1598)
Prédiction principale: 's' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. 's' (logprob: -2.3944) [Prédiction principale]
  2. 'n' (logprob: -2.5194)
  3. 'if' (logprob: -2.6444)
* 4. 'print' (logprob: -2.7694)
  5. 'for' (logprob: -2.8944)
  6. '#' (logprob: -3.1444)
  7. 'a' (logprob: -3.2694)
  8. 'l' (logprob: -3.5194)
  9. 'x' (logprob: -3.5194)
  10. 'while' (logprob: -3.7694)

Le token attendu est à la position 4 dans les prédictions.

--------------------------------------------------------------------------------

Position 4: '(s' (ID: 1858)
Prédiction principale: '(s' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '(s' (logprob: -1.1690) [Prédiction principale]
  2. '("' (logprob: -2.0440)
  3. '(len' (logprob: -3.1690)
  4. '(f' (logprob: -3.2940)
  5. '(' (logprob: -3.4190)
  6. '('' (logprob: -3.4190)
  7. '(is' (logprob: -3.6690)
  8. '(inputs' (logprob: -3.7940)
  9. ' (' (logprob: -4.0440)
  10. '(a' (logprob: -4.2940)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 5: '.replace' (ID: 12804)
Prédiction principale: ')\n' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ')\n' (logprob: -1.2687) [Prédiction principale]
  2. '.count' (logprob: -1.8937)
  3. '[::-' (logprob: -2.2687)
  4. '[' (logprob: -2.3937)
  5. ')' (logprob: -2.6437)
  6. ')\n\n' (logprob: -3.0187)
* 7. '.replace' (logprob: -3.1437)
  8. '[-' (logprob: -3.7687)
  9. '[:' (logprob: -4.0187)
  10. '.split' (logprob: -4.1437)

Le token attendu est à la position 7 dans les prédictions.

--------------------------------------------------------------------------------

Position 6: '('' (ID: 706)
Prédiction principale: '("' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '("' (logprob: -0.6886) [Prédiction principale]
* 2. '('' (logprob: -0.9386)
  3. '(",' (logprob: -4.0636)
  4. '(s' (logprob: -4.5636)
  5. '(',' (logprob: -4.9386)
  6. '(",",' (logprob: -5.0636)
  7. '('.' (logprob: -5.1886)
  8. '(".' (logprob: -5.5636)
  9. '('\\' (logprob: -5.6886)
  10. '('@' (logprob: -5.6886)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------

Position 7: 'pe' (ID: 424)
Prédiction principale: ' ',' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ' ',' (logprob: -1.1916) [Prédiction principale]
  2. ' ','' (logprob: -1.8166)
  3. 'a' (logprob: -2.1916)
  4. '1' (logprob: -3.0666)
  5. 'A' (logprob: -3.0666)
  6. 'x' (logprob: -3.1916)
  7. '','' (logprob: -3.4416)
  8. 'X' (logprob: -3.9416)
  9. 'H' (logprob: -4.3166)
  10. 'e' (logprob: -4.3166)

Le token attendu n'est pas dans le top 10 des prédictions.

--------------------------------------------------------------------------------

Position 8: 'ach' (ID: 678)
Prédiction principale: '','' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '','' (logprob: -0.3525) [Prédiction principale]
  2. '',' (logprob: -1.6025)
* 3. 'ach' (logprob: -4.2275)
  4. 'ep' (logprob: -4.6025)
  5. 'h' (logprob: -4.7275)
  6. 'w' (logprob: -4.7275)
  7. 'pc' (logprob: -5.1025)
  8. '\',"' (logprob: -5.1025)
  9. ''' (logprob: -5.3525)
  10. 'ck' (logprob: -5.6025)

Le token attendu est à la position 3 dans les prédictions.

--------------------------------------------------------------------------------

Position 9: '',' (ID: 787)
Prédiction principale: '','' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. '','' (logprob: -0.2612) [Prédiction principale]
* 2. '',' (logprob: -1.6362)
  3. 'y' (logprob: -3.6362)
  4. ''' (logprob: -5.6362)
  5. ' ','' (logprob: -7.2612)
  6. '\',"' (logprob: -7.6362)
  7. ' ',' (logprob: -8.2612)
  8. ' peach' (logprob: -8.6362)
  9. '','#' (logprob: -8.6362)
  10. '','','' (logprob: -8.7612)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------

Position 10: ' '' (ID: 461)
Prédiction principale: ' '' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' '' (logprob: -0.0408) [Prédiction principale]
  2. ' '')' (logprob: -4.6658)
  3. ' "' (logprob: -5.0408)
  4. ' ''' (logprob: -5.1658)
  5. ' '').' (logprob: -5.2908)
  6. ' '*' (logprob: -6.0408)
  7. ' '#' (logprob: -7.0408)
  8. ' '(' (logprob: -7.0408)
  9. ' '',' (logprob: -7.1658)
  10. ' '<' (logprob: -7.2908)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 11: 'X' (ID: 55)
Prédiction principale: 'banana' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. 'banana' (logprob: -1.4324) [Prédiction principale]
  2. 'apple' (logprob: -2.1824)
  3. 'pear' (logprob: -2.6824)
  4. 'fruit' (logprob: -2.6824)
  5. ''))' (logprob: -2.8074)
  6. ''))\n' (logprob: -2.8074)
  7. 'orange' (logprob: -3.0574)
  8. 'pe' (logprob: -3.1824)
  9. 'm' (logprob: -3.3074)
  10. 'ki' (logprob: -3.3074)

Le token attendu n'est pas dans le top 10 des prédictions.

--------------------------------------------------------------------------------

Position 12: '').' (ID: 3426)
Prédiction principale: ''))' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. ''))' (logprob: -0.8329) [Prédiction principale]
  2. ''))\n' (logprob: -1.3329)
* 3. '').' (logprob: -1.8329)
  4. '',' (logprob: -3.7079)
  5. '')' (logprob: -3.7079)
  6. ''' (logprob: -3.8329)
  7. ''))\n\n' (logprob: -4.3329)
  8. ''*' (logprob: -4.4579)
  9. ''),' (logprob: -5.2079)
  10. 'OX' (logprob: -5.7079)

Le token attendu est à la position 3 dans les prédictions.

--------------------------------------------------------------------------------

Position 13: 'replace' (ID: 15208)
Prédiction principale: 'replace' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. 'replace' (logprob: -0.0293) [Prédiction principale]
  2. 'count' (logprob: -3.7793)
  3. 'strip' (logprob: -6.2793)
  4. 'find' (logprob: -7.1543)
  5. 're' (logprob: -7.5293)
  6. 'lower' (logprob: -7.5293)
  7. 'split' (logprob: -7.6543)
  8. 'upper' (logprob: -7.7793)
  9. 'r' (logprob: -8.5293)
  10. 'rstrip' (logprob: -8.5293)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 14: '('' (ID: 706)
Prédiction principale: '('' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '('' (logprob: -0.0054) [Prédiction principale]
  2. '("' (logprob: -5.6304)
  3. '(' (logprob: -8.5054)
  4. ' ('' (logprob: -8.5054)
  5. '(',',' (logprob: -8.5054)
  6. '('.',' (logprob: -8.7554)
  7. '('\\' (logprob: -8.8804)
  8. '('.' (logprob: -9.1304)
  9. '('_' (logprob: -9.1304)
  10. '(',' (logprob: -9.5054)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 15: 'apple' (ID: 34058)
Prédiction principale: 'banana' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. 'banana' (logprob: -1.4617) [Prédiction principale]
* 2. 'apple' (logprob: -1.5867)
  3. 'pe' (logprob: -2.5867)
  4. 'pear' (logprob: -2.5867)
  5. 'pl' (logprob: -2.9617)
  6. 'm' (logprob: -3.3367)
  7. 'orange' (logprob: -3.3367)
  8. 'ki' (logprob: -3.4617)
  9. 'ch' (logprob: -3.8367)
  10. 'ap' (logprob: -3.9617)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------

Position 16: '',' (ID: 787)
Prédiction principale: '',' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '',' (logprob: -0.0497) [Prédiction principale]
  2. '','' (logprob: -3.0497)
  3. ''' (logprob: -7.7997)
  4. ' ',' (logprob: -8.9247)
  5. 'X' (logprob: -9.1747)
  6. ',' (logprob: -10.5497)
  7. 'e' (logprob: -10.6747)
  8. '','#' (logprob: -11.0497)
  9. ' ','' (logprob: -11.2997)
  10. '\',"' (logprob: -11.2997)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 17: ' '' (ID: 461)
Prédiction principale: ' '' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' '' (logprob: -0.0051) [Prédiction principale]
  2. ' '').' (logprob: -6.8801)
  3. ' '')' (logprob: -7.0051)
  4. ' "' (logprob: -7.5051)
  5. ' '#' (logprob: -8.0051)
  6. ' '*' (logprob: -8.2551)
  7. ' '.' (logprob: -8.3801)
  8. ' ''' (logprob: -8.5051)
  9. ' '@' (logprob: -8.6301)
  10. ' '_' (logprob: -8.6301)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 18: 'pe' (ID: 424)
Prédiction principale: 'Y' (✗ INCORRECT)

Top 10 tokens les plus probables:
  1. 'Y' (logprob: -0.3321) [Prédiction principale]
* 2. 'pe' (logprob: -1.8321)
  3. 'X' (logprob: -2.8321)
  4. 'y' (logprob: -4.8321)
  5. 'A' (logprob: -5.0821)
  6. 'Z' (logprob: -5.2071)
  7. 'p' (logprob: -5.2071)
  8. 'P' (logprob: -5.3321)
  9. 'O' (logprob: -5.7071)
  10. 'XX' (logprob: -5.8321)

Le token attendu est à la position 2 dans les prédictions.

--------------------------------------------------------------------------------

Position 19: 'ach' (ID: 678)
Prédiction principale: 'ach' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. 'ach' (logprob: -0.0001) [Prédiction principale]
  2. 'ac' (logprob: -11.1251)
  3. 'ch' (logprob: -11.2501)
  4. 'ah' (logprob: -11.7501)
  5. 'aches' (logprob: -11.7501)
  6. 'acht' (logprob: -12.3751)
  7. 'ache' (logprob: -12.7501)
  8. 'arl' (logprob: -13.0001)
  9. 'arch' (logprob: -13.3751)
  10. '')' (logprob: -13.3751)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 20: '').' (ID: 3426)
Prédiction principale: '').' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '').' (logprob: -0.0529) [Prédiction principale]
  2. ''))' (logprob: -3.3029)
  3. ''))\n' (logprob: -4.8029)
  4. ''))\n\n' (logprob: -6.8029)
  5. ' ').' (logprob: -6.9279)
  6. '')' (logprob: -7.1779)
  7. '')\n' (logprob: -7.4279)
  8. '',' (logprob: -7.6779)
  9. ''' (logprob: -7.8029)
  10. ''),' (logprob: -8.0529)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 21: 'replace' (ID: 15208)
Prédiction principale: 'replace' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. 'replace' (logprob: -0.0002) [Prédiction principale]
  2. 're' (logprob: -8.5002)
  3. ' replace' (logprob: -11.6252)
  4. 'r' (logprob: -11.7502)
  5. 'rep' (logprob: -11.7502)
  6. '\\\n' (logprob: -11.8752)
  7. ' \\\n' (logprob: -13.0002)
  8. 'count' (logprob: -13.3752)
  9. 'find' (logprob: -14.0002)
  10. 'Replace' (logprob: -14.0002)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 22: '('' (ID: 706)
Prédiction principale: '('' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '('' (logprob: -0.0002) [Prédiction principale]
  2. '(' (logprob: -9.3752)
  3. '("' (logprob: -9.5002)
  4. ' ('' (logprob: -10.1252)
  5. '(X' (logprob: -12.7502)
  6. ' '' (logprob: -13.2502)
  7. '('\\' (logprob: -14.0002)
  8. '('',' (logprob: -14.0002)
  9. '('.' (logprob: -14.1252)
  10. '(('' (logprob: -14.5002)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 23: 'X' (ID: 55)
Prédiction principale: 'X' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. 'X' (logprob: -0.0000) [Prédiction principale]
  2. 'x' (logprob: -10.8750)
  3. 'pe' (logprob: -11.7500)
  4. 'Y' (logprob: -12.7500)
  5. 'banana' (logprob: -13.0000)
  6. 'p' (logprob: -13.5000)
  7. 'ch' (logprob: -13.5000)
  8. ' X' (logprob: -14.0000)
  9. 'pear' (logprob: -14.0000)
  10. 'apple' (logprob: -14.3750)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 24: '',' (ID: 787)
Prédiction principale: '',' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. '',' (logprob: -0.0127) [Prédiction principale]
  2. '','' (logprob: -4.3877)
  3. ''' (logprob: -8.5127)
  4. '',\n' (logprob: -11.7627)
  5. ' ',' (logprob: -12.0127)
  6. '\',"' (logprob: -12.8877)
  7. '’,' (logprob: -13.3877)
  8. ',' (logprob: -13.4502)
  9. ','' (logprob: -13.6377)
  10. '','.' (logprob: -13.7627)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 25: ' '' (ID: 461)
Prédiction principale: ' '' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ' '' (logprob: -0.0001) [Prédiction principale]
  2. ' ' (logprob: -9.8751)
  3. ' "' (logprob: -9.8751)
  4. ' \n' (logprob: -13.2501)
  5. ' ‘' (logprob: -13.5001)
  6. ' ''' (logprob: -13.5001)
  7. ' apple' (logprob: -13.5001)
  8. ''' (logprob: -13.8751)
  9. ' '.' (logprob: -14.1251)
  10. ' '\n' (logprob: -14.3751)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 26: 'apple' (ID: 34058)
Prédiction principale: 'apple' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. 'apple' (logprob: -0.0008) [Prédiction principale]
  2. 'ap' (logprob: -7.7508)
  3. 'app' (logprob: -8.2508)
  4. 'a' (logprob: -10.2508)
  5. 'banana' (logprob: -10.5008)
  6. 'Apple' (logprob: -11.3758)
  7. 'fruit' (logprob: -11.3758)
  8. ' apple' (logprob: -11.5008)
  9. 'pear' (logprob: -11.6258)
  10. 'pe' (logprob: -11.7508)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------

Position 27: ''))' (ID: 7974)
Prédiction principale: ''))' (✓ CORRECT)

Top 10 tokens les plus probables:
* 1. ''))' (logprob: -0.2130) [Prédiction principale]
  2. ''))\n' (logprob: -1.8380)
  3. ''))\n\n' (logprob: -3.5880)
  4. '').' (logprob: -6.2130)
  5. ''),' (logprob: -6.4630)
  6. '')' (logprob: -7.7130)
  7. ''' (logprob: -8.4630)
  8. '',' (logprob: -8.7130)
  9. '')[' (logprob: -9.2130)
  10. '')).' (logprob: -9.2130)

Le token attendu est à la position 1 dans les prédictions.

--------------------------------------------------------------------------------


RÉSUMÉ:
--------------------------------------------------------------------------------
Total des tokens analysés: 25
Tokens correctement prédits (1ère position, stricte): 15
Tokens correctement prédits (1ère position, avec adaptation): 15
Tokens correctement prédits (top 10): 23
Précision stricte (1ère position): 60.00%
Précision adaptée (1ère position): 60.00%
Précision (top 10): 92.00%
================================================================================
