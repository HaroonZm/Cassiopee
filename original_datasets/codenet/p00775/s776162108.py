import sys
import math

OFFSET = 20

def main():

    while True:
        r,n = map(int, sys.stdin.readline().split())
        if r == 0 and n == 0:
            break

        seq = [0] * 40
        for i in range(n):
            x1,x2,h = map(int,sys.stdin.readline().split())
            for k in range(x1, x2):
                seq[k + OFFSET] = max(seq[k + OFFSET], h)

        # ??????????????§??????????????? => ??????????????????????????¶??????????????°??????????????¶????????????
        # seq[x] = [x,x+1]?????????h?????¨???
        ans = 9999999999
        for x in range(-r+1, r):
            y = min(seq[x + OFFSET - 1], seq[x + OFFSET])
            t = y + r - math.sqrt(r*r - x*x) # ???????????\????????????
            #print("r:{}\tx:{}\tx[]:{}\ty:{}\tt:{}".format(r,x,seq[x + OFFSET],y,t))
            ans = min(ans, t)

        print("{0:.4f}".format(ans))

if __name__ == '__main__':
    main()